<Window x:Class="LinguaBender.Views.StudentsView"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:Icon="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:uc="clr-namespace:LinguaBender.Controls"
    Title="CoursesView" Height="760" Width="1280" Background="Transparent" ResizeMode="NoResize"
    AllowsTransparency="True" WindowStyle="None" WindowStartupLocation="CenterScreen"
    Icon="icon3.png">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>
    </Window.Resources>

    <Border Background="{DynamicResource MainBorder}" CornerRadius="40" BorderThickness="2" Padding="20">
        <Border CornerRadius="40" Background="{DynamicResource Gradient}">
            
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="130"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Левое меню -->
                <Border CornerRadius="30" Background="#7163ba" Margin="20">
                    <Grid>
                        <StackPanel VerticalAlignment="Top">
                            <Button x:Name="HomeButton" Style="{StaticResource topMenuButton}" Margin="10" Click="HomeButton_Click" MouseEnter="Button_MouseEnter" MouseLeave="Button_MouseLeave">
                                <Icon:PackIconMaterial Kind="HomeVariant" Style="{StaticResource menuButtonIcon}"/>
                            </Button>

                            <Separator Background="#877cc5" Margin="20 0 20 10" Height="0.8"/>

                            <Button Style="{StaticResource topMenuButton}" Background="#5a5080" MouseEnter="Button_MouseEnter" MouseLeave="Button_MouseLeave">
                                <Icon:PackIconMaterial Kind="AccountGroup" Style="{StaticResource menuButtonIcon}"/>
                            </Button>

                            <Separator Background="#877cc5" Margin="20 10 20 10" Height="0.8"/>

                            <Button x:Name="CoursesView" Style="{StaticResource topMenuButton}"  MouseEnter="Button_MouseEnter" MouseLeave="Button_MouseLeave" Click="CoursesView_Click">
                                <Icon:PackIconMaterial Kind="FileDocumentEditOutline" Style="{StaticResource menuButtonIcon}"/>
                            </Button>

                            <Separator Background="#877cc5" Margin="20 10 20 10" Height="0.8"/>

                            <Button x:Name="StudentEdit" Style="{StaticResource topMenuButton}" MouseEnter="Button_MouseEnter" MouseLeave="Button_MouseLeave" Click="StudentEdit_Click">
                                <Icon:PackIconMaterial Kind="AccountFile" Style="{StaticResource menuButtonIcon}"/>
                            </Button>

                            <Separator Background="#877cc5" Margin="20 10 20 10" Height="0.8"/>

                            <Button x:Name="CourseEdit" Style="{StaticResource topMenuButton}" MouseEnter="Button_MouseEnter" MouseLeave="Button_MouseLeave" Click="CourseEdit_Click">
                                <Icon:PackIconMaterial Kind="FileDocumentPlus" Style="{StaticResource menuButtonIcon}"/>
                            </Button>
                        </StackPanel>

                        <Separator Background="#877cc5" Margin="20 0 20 90" Height="0.8" VerticalAlignment="Bottom"/>

                        <Button x:Name="CloseButton" Style="{StaticResource menuButton}" VerticalAlignment="Bottom" Margin="0 0 0 25" Click="CloseButton_Click" MouseEnter="Button_MouseEnter" MouseLeave="Button_MouseLeave">
                            <Icon:PackIconMaterial Kind="LocationExit" Style="{StaticResource menuButtonIcon}"/>
                        </Button>
                    </Grid>
                </Border>

                <Button Grid.Column="1" x:Name="TriggerButton" Content="Тест триггеров" Width="200" Height="50" Margin="20" Click="TriggerButton_Click_1">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Style.Triggers>

                                <!-- 1. MultiTrigger: наведён курсор И IsEnabled = true -->
                                <MultiTrigger>
                                    <MultiTrigger.Conditions>
                                        <Condition Property="IsMouseOver" Value="True"/>
                                        <Condition Property="IsEnabled" Value="True"/>
                                    </MultiTrigger.Conditions>
                                    <Setter Property="Opacity" Value="0.3"/>
                                </MultiTrigger>


                                <!-- 3. EventTrigger: наведение мыши — запустить анимацию -->
                                <EventTrigger RoutedEvent="Button.MouseEnter">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ColorAnimation Storyboard.TargetProperty="(Background).(SolidColorBrush.Color)"
                                            To="Orange" Duration="0:0:0.3" AutoReverse="True"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>

                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
                <!-- Кнопка с триггером -->
                <Button x:Name="TriggerButton2" Grid.Column="1" Width="200" Height="50" Margin="699,333,207,333" Content="Тест DataTriggers" Click="TriggerButton2_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Style.Triggers>
                                <!--  DataTrigger: если Content пустой -->
                                <DataTrigger Binding="{Binding ElementName=TriggerButton2, Path=Content}" Value="">
                                    <Setter Property="Background" Value="White"/>
                                    <Setter Property="ToolTip" Value="Кнопка без текста!"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>

                <!-- Кнопка для очистки текста -->
                <Button Grid.Column="1" Content="Очистить" Width="100" Height="50" Click="ClearText_Click" Margin="749,411,257,255"/>

                <Button x:Name="TriggerButton3" Grid.Column="1"
                        Width="200"
                        Height="50"
                        Margin="157,406,749,260"
                        Background="#EEE"
                        BorderBrush="#CCC"
                        BorderThickness="1"
                        Content="Hover me">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Grid>
                                <!-- Основной фон и контент -->
                                <Border x:Name="MainBorder"
                                        Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="8"
                                        SnapsToDevicePixels="True"
                                        Padding="{TemplateBinding Padding}">
                                    <ContentPresenter HorizontalAlignment="Center"
                                      VerticalAlignment="Center"
                                      RecognizesAccessKey="True"/>
                                </Border>

                                <!-- Эффект заливки -->
                                <Ellipse x:Name="PulseEllipse"
                                         Fill="HotPink"
                                         Opacity="0"
                                         Width="0"
                                         Height="0"
                                         RenderTransformOrigin="0.5,0.5"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center"
                                         IsHitTestVisible="False">
                                    <Ellipse.RenderTransform>
                                        <ScaleTransform ScaleX="1" ScaleY="1"/>
                                    </Ellipse.RenderTransform>
                                </Ellipse>
                            </Grid>

                            <ControlTemplate.Triggers>
                                <EventTrigger RoutedEvent="MouseEnter">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="PulseEllipse"
                                                             Storyboard.TargetProperty="Width"
                                                             To="250"
                                                             Duration="0:0:0.4"/>
                                            <DoubleAnimation Storyboard.TargetName="PulseEllipse"
                                                             Storyboard.TargetProperty="Height"
                                                             To="250"
                                                             Duration="0:0:0.4"/>
                                            <DoubleAnimation Storyboard.TargetName="PulseEllipse"
                                                             Storyboard.TargetProperty="Opacity"
                                                             From="0"
                                                             To="0.3"
                                                             Duration="0:0:0.4"
                                                             AutoReverse="True"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>



            </Grid>
        </Border>
    </Border>
</Window>
